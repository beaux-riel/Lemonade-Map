import{j as e,B as s,A as a,C as t,L as i,T as n,F as r,M as d}from"./vendor-ui-DsK07F6c.js";import{r as l,h as o,d as c,L as m}from"./vendor-react-qVBsGM6v.js";import{r as x,d as h,l as u,j as p,h as g,k as j,m as v,n as y}from"./index-CCsNotiS.js";import"./vendor-supabase-Dv6Edu65.js";const b=({stand:t,onExtend:i})=>{const[n,r]=l.useState(!1),[d,o]=l.useState(null),[c,m]=l.useState(null),h=(()=>{if(!t.expiration_time)return null;const e=new Date,s=new Date(t.expiration_time)-e;if(s<=0)return{expired:!0,timeString:"Expired"};const a=Math.floor(s/36e5),i=Math.floor(s%36e5/6e4);let n="";return a>0&&(n+=`${a} hour${1!==a?"s":""}`),(i>0||0===a)&&(a>0&&(n+=" and "),n+=`${i} minute${1!==i?"s":""}`),{expired:!1,timeString:n,hours:a,minutes:i,critical:0===a&&i<30}})(),u=async()=>{r(!0),o(null),m(null);try{const{data:e,error:s}=await x(t.id);if(s)throw new Error(s.message);const a=new Date,n=new Date(a);n.setHours(23,59,59,999);const r=Math.round((n-a)/36e5);m(`Stand reopened successfully! Active for the next ${r} hours (until midnight).`),i&&e&&i(e)}catch(e){o(e.message)}finally{r(!1)}};if(!t.expiration_time)return e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-yellow-800 mb-2",children:"This stand does not have an expiration time set."}),e.jsx(s,{variant:"secondary",onClick:u,disabled:n,size:"sm",children:n?"Setting expiration...":"Activate until midnight"})]});const p=e=>new Date(e).toLocaleString(void 0,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),g=()=>{if(!t.expiration_time)return!1;const e=new Date,s=new Date(t.expiration_time);return e.getDate()===s.getDate()&&e.getMonth()===s.getMonth()&&e.getFullYear()===s.getFullYear()};return e.jsxs("div",{className:"rounded-lg p-4 mb-4 "+(h.expired?"bg-red-50 border border-red-200":h.critical?"bg-orange-50 border border-orange-200":"bg-blue-50 border border-blue-200"),children:[d&&e.jsx(a,{variant:"error",className:"mb-3",dismissible:!0,onDismiss:()=>o(null),children:d}),c&&e.jsx(a,{variant:"success",className:"mb-3",dismissible:!0,onDismiss:()=>m(null),children:c}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium "+(h.expired?"text-red-800":h.critical?"text-orange-800":"text-blue-800"),children:"Stand Visibility Status"}),e.jsx("p",{className:""+(h.expired?"text-red-600":h.critical?"text-orange-600":"text-blue-600"),children:h.expired?"This stand has expired and is no longer visible to the public.":`Time remaining: ${h.timeString}`}),!h.expired&&e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:g()?`Expires tonight at midnight (${p(t.expiration_time)})`:`Expires at midnight: ${p(t.expiration_time)}`})]}),e.jsx(s,{variant:h.expired?"primary":"secondary",onClick:u,disabled:n,className:"mt-3 md:mt-0",children:n?"Processing...":h.expired?"Reopen Stand":g()?"Active Until Tonight":"Active Until Midnight"})]})]})},f=({statistics:s})=>{const a=s||{totalViews:Math.floor(500*Math.random()),uniqueVisitors:Math.floor(200*Math.random()),averageTimeSpent:Math.floor(5*Math.random())+1,popularTimes:[{day:"Monday",hour:"2-4 PM"},{day:"Wednesday",hour:"3-5 PM"},{day:"Saturday",hour:"12-2 PM"}],viewsByDay:[{day:"Mon",views:Math.floor(50*Math.random())},{day:"Tue",views:Math.floor(50*Math.random())},{day:"Wed",views:Math.floor(50*Math.random())},{day:"Thu",views:Math.floor(50*Math.random())},{day:"Fri",views:Math.floor(50*Math.random())},{day:"Sat",views:Math.floor(50*Math.random())},{day:"Sun",views:Math.floor(50*Math.random())}]},i=Math.max(...a.viewsByDay.map((e=>e.views)));return e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[e.jsx("h3",{className:"text-blue-800 text-lg mb-1",children:"Total Views"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:a.totalViews})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[e.jsx("h3",{className:"text-green-800 text-lg mb-1",children:"Unique Visitors"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:a.uniqueVisitors})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[e.jsx("h3",{className:"text-purple-800 text-lg mb-1",children:"Avg. Time (min)"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:a.averageTimeSpent})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs(t,{children:[e.jsx(t.Header,{children:e.jsx("h3",{className:"text-xl font-display text-lemonade-blue-dark",children:"Views by Day"})}),e.jsx(t.Body,{className:"p-4",children:e.jsx("div",{className:"h-64 flex items-end justify-between",children:a.viewsByDay.map(((s,a)=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-8 bg-lemonade-blue rounded-t-md",style:{height:s.views/i*100+"%",minHeight:"10px"}}),e.jsx("span",{className:"mt-2 text-sm text-gray-600",children:s.day})]},a)))})})]}),e.jsxs(t,{children:[e.jsx(t.Header,{children:e.jsx("h3",{className:"text-xl font-display text-lemonade-blue-dark",children:"Popular Times"})}),e.jsx(t.Body,{children:e.jsx("ul",{className:"divide-y divide-gray-200",children:a.popularTimes.map(((s,a)=>e.jsxs("li",{className:"py-3 flex justify-between",children:[e.jsx("span",{className:"font-medium",children:s.day}),e.jsx("span",{className:"text-gray-600",children:s.hour})]},a)))})})]})]}),e.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg",children:e.jsx("p",{className:"text-yellow-800 text-sm",children:"Note: These statistics are for demonstration purposes only. In a production environment, this would be connected to real analytics data."})})]})},N=()=>{const{id:x}=o(),N=c(),{user:w}=h(),[S,_]=l.useState(null),[E,T]=l.useState([]),[$,D]=l.useState(!0),[M,I]=l.useState(null),[k,C]=l.useState(null),[A,P]=l.useState("details"),[L,F]=l.useState(!1),[R,G]=l.useState({name:"",description:"",address:"",location_lat:"",location_lng:"",is_active:!0}),[q,U]=l.useState(null),[V,B]=l.useState(null),[Y,H]=l.useState(!1),[O,z]=l.useState(!1),[W,J]=l.useState(!1),[K,Q]=l.useState({totalViews:Math.floor(500*Math.random()),uniqueVisitors:Math.floor(200*Math.random()),averageTimeSpent:Math.floor(5*Math.random())+1,popularTimes:[{day:"Monday",hour:"2-4 PM"},{day:"Wednesday",hour:"3-5 PM"},{day:"Saturday",hour:"12-2 PM"}]});l.useEffect((()=>{w?(async()=>{try{if(D(!0),u.info("Fetching stand data",{standId:x}),!w||!w.id)return u.error("Authentication error",new Error("User not available or missing ID"),{standId:x,userExists:!!w}),I("Authentication error. Please try logging in again."),void D(!1);u.apiRequest(`stands/${x}`,"GET");const{data:e,error:s}=await p(x);if(s)throw u.apiError(`stands/${x}`,"GET",s),new Error(`Failed to load stand: ${s.message}`);if(!e)throw u.warn("Stand not found",{standId:x}),new Error("Stand not found. It may have been deleted.");if(u.apiResponse(`stands/${x}`,"GET",{standExists:!!e},200),e.owner_id!==w.id)throw u.warn("Permission denied",{standId:x,standOwnerId:e.owner_id,userId:w.id}),new Error("You do not have permission to view this stand");u.info("Stand data loaded successfully",{standId:x,standName:e.name,isActive:e.is_active}),_(e),G({name:e.name||"",description:e.description||"",address:e.address||"",location_lat:e.location_lat||"",location_lng:e.location_lng||"",is_active:e.is_active}),u.apiRequest(`products?standId=${x}`,"GET");const{data:a,error:t}=await g(x);if(t)throw u.apiError(`products?standId=${x}`,"GET",t),new Error(`Failed to load products: ${t.message}`);u.apiResponse(`products?standId=${x}`,"GET",{productCount:(null==a?void 0:a.length)||0},200),T(a||[])}catch(e){u.error("Error fetching stand data",e,{standId:x}),I(e.message)}finally{D(!1)}})():u.info("Waiting for user data before fetching stand",{standId:x})}),[x,w]);const X=e=>{const{name:s,value:a,type:t,checked:i}=e.target;G((e=>({...e,[s]:"checkbox"===t?i:a})))};return $&&!S?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex flex-col justify-center items-center h-64",children:e.jsx(i,{size:"lg",variant:"blue",message:"Loading stand details..."})})}):M&&!S?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-4",children:[e.jsx("h2",{className:"text-2xl font-display text-lemonade-blue-dark mb-4",children:"Error Loading Stand"}),e.jsx(a,{variant:"error",className:"mb-6",dismissible:!0,children:M}),e.jsx("p",{className:"text-gray-600 mb-6",children:"There was a problem loading the stand details. This could be due to:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 mb-6",children:[e.jsx("li",{children:"The stand may have been deleted"}),e.jsx("li",{children:"You may not have permission to view this stand"}),e.jsx("li",{children:"There might be a temporary server issue"}),e.jsx("li",{children:"Your session may have expired"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(m,{to:"/seller/dashboard",children:e.jsx(s,{variant:"primary",children:"Back to Dashboard"})}),e.jsx(s,{variant:"secondary",onClick:()=>window.location.reload(),children:"Try Again"})]})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-6 flex flex-col md:flex-row justify-between items-start md:items-center",children:[e.jsxs("div",{children:[e.jsx(m,{to:"/seller/dashboard",className:"text-lemonade-blue hover:underline mb-2 inline-block",children:"← Back to Dashboard"}),e.jsx("h1",{className:"text-3xl font-display text-lemonade-blue-dark",children:S.name})]}),e.jsxs("div",{className:"flex space-x-2 mt-4 md:mt-0",children:[e.jsxs(s,{variant:S.is_active?"danger-outline":"success",onClick:async()=>{D(!0),I(null),C(null);const e=!S.is_active,s=e?"activate":"deactivate";u.info(`Attempting to ${s} stand`,{standId:x,currentState:S.is_active,newState:e});try{u.apiRequest(`stands/${x}`,"PATCH",{is_active:e});const{data:a,error:t}=await j(x,{is_active:e});if(t)throw u.apiError(`stands/${x}`,"PATCH",t),new Error(`Failed to ${s} stand: ${t.message}`);u.apiResponse(`stands/${x}`,"PATCH",{success:!0},200),u.info(`Stand ${s}d successfully`,{standId:x}),_({...S,is_active:e}),G((s=>({...s,is_active:e}))),C(`Stand ${e?"activated":"deactivated"} successfully!`)}catch(a){u.error(`Error ${s}ing stand`,a,{standId:x}),I(a.message)}finally{D(!1)}},disabled:$,children:[S.is_active?"Deactivate":"Activate"," Stand"]}),e.jsx(s,{variant:"danger",onClick:()=>z(!0),children:"Delete Stand"})]})]}),M&&e.jsx(a,{variant:"error",className:"mb-4",dismissible:!0,onDismiss:()=>I(null),children:M}),k&&e.jsx(a,{variant:"success",className:"mb-4",dismissible:!0,onDismiss:()=>C(null),children:k}),e.jsx(b,{stand:S,onExtend:e=>{_(e)}}),e.jsx(n,{activeTab:A,onChange:P,tabs:[{id:"details",label:"Stand Details"},{id:"products",label:"Products"},{id:"statistics",label:"Visitor Statistics"}],className:"mb-6"}),"details"===A&&e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:L?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-display text-lemonade-blue-dark",children:"Edit Stand Details"}),e.jsx(s,{variant:"secondary",onClick:()=>{F(!1),U(null),B(null),G({name:S.name||"",description:S.description||"",address:S.address||"",location_lat:S.location_lat||"",location_lng:S.location_lng||"",is_active:S.is_active})},children:"Cancel"})]}),e.jsxs(r,{onSubmit:async e=>{e.preventDefault(),D(!0),I(null),C(null),u.info("Submitting stand update form",{standId:x,hasImageUpdate:!!q});try{if(!R.name.trim())throw new Error("Stand name is required");u.apiRequest(`stands/${x}`,"PUT",{formData:{...R,name:R.name.trim()}});const{data:e,error:s}=await j(x,{...R,name:R.name.trim()});if(s)throw u.apiError(`stands/${x}`,"PUT",s),new Error(`Failed to update stand: ${s.message}`);if(u.apiResponse(`stands/${x}`,"PUT",{success:!0},200),q){H(!0),u.info("Uploading stand image",{standId:x,imageSize:q.size,imageType:q.type}),u.apiRequest(`stands/${x}/image`,"POST");const{error:e}=await v(x,w.id,q);if(e)throw u.apiError(`stands/${x}/image`,"POST",e),new Error(`Error uploading image: ${e.message}`);u.apiResponse(`stands/${x}/image`,"POST",{success:!0},200),u.apiRequest(`stands/${x}`,"GET");const{data:s,error:a}=await p(x);if(a)throw u.apiError(`stands/${x}`,"GET",a),new Error(`Error refreshing stand data: ${a.message}`);u.apiResponse(`stands/${x}`,"GET",{success:!0},200),_(s)}else _(e[0]);u.info("Stand updated successfully",{standId:x}),C("Stand updated successfully!"),F(!1),U(null),B(null)}catch(s){u.error("Error updating stand",s,{standId:x}),I(s.message)}finally{D(!1),H(!1)}},children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("div",{className:"rounded-lg overflow-hidden border border-gray-200 mb-4",children:V?e.jsx("img",{src:V,alt:"Preview",className:"w-full h-64 object-cover"}):S.image_url?e.jsx("img",{src:S.image_url,alt:S.name,className:"w-full h-64 object-cover"}):e.jsx("div",{className:"w-full h-64 bg-lemonade-yellow-light flex items-center justify-center",children:e.jsx("span",{className:"text-lemonade-yellow-dark",children:"No Image"})})}),e.jsxs(r.Group,{children:[e.jsx(r.Label,{htmlFor:"image",children:"Stand Image"}),e.jsx(r.Input,{id:"image",name:"image",type:"file",accept:"image/*",onChange:e=>{const s=e.target.files[0];if(s){U(s);const e=new FileReader;e.onloadend=()=>{B(e.result)},e.readAsDataURL(s)}}}),e.jsx(r.Text,{children:"Upload an image of your lemonade stand."})]}),e.jsxs(r.Group,{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(r.Checkbox,{id:"is_active",name:"is_active",checked:R.is_active,onChange:X}),e.jsx(r.Label,{htmlFor:"is_active",className:"ml-2 mb-0",children:"Stand is active"})]}),e.jsx(r.Text,{children:"Inactive stands are not visible to the public."})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs(r.Group,{children:[e.jsx(r.Label,{htmlFor:"name",required:!0,children:"Stand Name"}),e.jsx(r.Input,{id:"name",name:"name",value:R.name,onChange:X,placeholder:"Enter stand name",required:!0})]}),e.jsxs(r.Group,{children:[e.jsx(r.Label,{htmlFor:"description",children:"Description"}),e.jsx(r.Textarea,{id:"description",name:"description",value:R.description,onChange:X,placeholder:"Describe your lemonade stand",rows:4})]}),e.jsxs(r.Group,{children:[e.jsx(r.Label,{htmlFor:"address",children:"Address"}),e.jsx(r.Input,{id:"address",name:"address",value:R.address,onChange:X,placeholder:"Enter stand address"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(r.Group,{children:[e.jsx(r.Label,{htmlFor:"location_lat",children:"Latitude"}),e.jsx(r.Input,{id:"location_lat",name:"location_lat",type:"number",step:"any",value:R.location_lat,onChange:X,placeholder:"Enter latitude"})]}),e.jsxs(r.Group,{children:[e.jsx(r.Label,{htmlFor:"location_lng",children:"Longitude"}),e.jsx(r.Input,{id:"location_lng",name:"location_lng",type:"number",step:"any",value:R.location_lng,onChange:X,placeholder:"Enter longitude"})]})]})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(s,{type:"submit",variant:"primary",disabled:$||Y,children:$||Y?"Saving...":"Save Changes"})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-display text-lemonade-blue-dark",children:"Stand Details"}),e.jsx(s,{variant:"primary",onClick:()=>F(!0),children:"Edit Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsx("div",{className:"rounded-lg overflow-hidden border border-gray-200",children:S.image_url?e.jsx("img",{src:S.image_url,alt:S.name,className:"w-full h-64 object-cover"}):e.jsx("div",{className:"w-full h-64 bg-lemonade-yellow-light flex items-center justify-center",children:e.jsx("span",{className:"text-lemonade-yellow-dark",children:"No Image"})})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-500 text-sm",children:"Name"}),e.jsx("p",{className:"text-gray-800 font-medium",children:S.name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-500 text-sm",children:"Status"}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+(S.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:S.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h3",{className:"text-gray-500 text-sm",children:"Description"}),e.jsx("p",{className:"text-gray-800",children:S.description||"No description provided."})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h3",{className:"text-gray-500 text-sm",children:"Address"}),e.jsx("p",{className:"text-gray-800",children:S.address||"No address provided."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-500 text-sm",children:"Latitude"}),e.jsx("p",{className:"text-gray-800 font-mono",children:S.location_lat||"N/A"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-500 text-sm",children:"Longitude"}),e.jsx("p",{className:"text-gray-800 font-mono",children:S.location_lng||"N/A"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-500 text-sm",children:"Created"}),e.jsx("p",{className:"text-gray-800",children:new Date(S.created_at).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-500 text-sm",children:"Last Updated"}),e.jsx("p",{className:"text-gray-800",children:new Date(S.updated_at).toLocaleDateString()})]})]})})]})]})}),"products"===A&&e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-display text-lemonade-blue-dark",children:"Products"}),e.jsx(m,{to:`/seller/stands/${x}/products/new`,children:e.jsx(s,{variant:"primary",children:"Add New Product"})})]}),0===E.length?e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have any products for this stand yet."}),e.jsx(m,{to:`/seller/stands/${x}/products/new`,children:e.jsx(s,{variant:"primary",children:"Add Your First Product"})})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map((s=>e.jsxs(t,{className:"hover:shadow-md transition",children:[e.jsx("div",{className:"h-48 bg-gray-100",children:s.image_url?e.jsx("img",{src:s.image_url,alt:s.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-lemonade-yellow-light flex items-center justify-center",children:e.jsx("span",{className:"text-lemonade-yellow-dark",children:"No Image"})})}),e.jsxs(t.Body,{children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"text-xl font-display text-lemonade-blue-dark",children:s.name}),e.jsxs("span",{className:"text-lg font-semibold text-lemonade-blue",children:["$",s.price.toFixed(2)]})]}),e.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:s.description||"No description"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+(s.is_available?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:s.is_available?"Available":"Unavailable"}),e.jsx(m,{to:`/seller/stands/${x}/products/${s.id}`,className:"text-lemonade-blue hover:underline",children:"Edit →"})]})]})]},s.id)))})]}),"statistics"===A&&e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-display text-lemonade-blue-dark mb-6",children:"Visitor Statistics"}),e.jsx(f,{statistics:K})]}),e.jsx(d,{isOpen:O,onClose:()=>z(!1),title:"Delete Stand",children:e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-700 mb-6",children:"Are you sure you want to delete this stand? This action cannot be undone."}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(s,{variant:"secondary",onClick:()=>z(!1),disabled:W,children:"Cancel"}),e.jsx(s,{variant:"danger",onClick:async()=>{J(!0),I(null),u.info("Deleting stand",{standId:x});try{if(!S||S.owner_id!==w.id)throw u.warn("Unauthorized deletion attempt",{standId:x,userId:w.id,standOwnerId:null==S?void 0:S.owner_id}),new Error("You do not have permission to delete this stand");u.apiRequest(`stands/${x}`,"DELETE");const{error:e}=await y(x);if(e)throw u.apiError(`stands/${x}`,"DELETE",e),new Error(`Failed to delete stand: ${e.message}`);u.apiResponse(`stands/${x}`,"DELETE",{success:!0},200),u.info("Stand deleted successfully",{standId:x}),N("/seller/dashboard",{state:{message:"Stand deleted successfully!"}})}catch(e){u.error("Error deleting stand",e,{standId:x}),I(e.message),z(!1)}finally{J(!1)}},disabled:W,children:W?"Deleting...":"Delete Stand"})]})]})})]})};export{N as default};
//# sourceMappingURL=StandDetailPage-CGA2zkxS.js.map
